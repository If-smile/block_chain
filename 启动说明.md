# 分布式PBFT共识系统 - 启动和停止指南

## 🚀 启动系统

### 方式一：使用启动脚本（推荐）

**Windows系统：**
```powershell
# 双击运行 start.bat
# 或在PowerShell中执行：
.\start.bat
```

**Linux/Mac系统：**
```bash
chmod +x start.sh
./start.sh
```

启动脚本会自动：
- ✅ 检查Python、Node.js、npm是否安装
- ✅ 检查并安装依赖（如果未安装）
- ✅ 启动后端服务（端口8000）
- ✅ 启动前端服务（端口3000）

### 方式二：手动启动（两个终端窗口）

**终端1 - 启动后端服务：**
```powershell
cd backend
python main.py
```

**终端2 - 启动前端服务：**
```powershell
npm run dev
```

## 🛑 停止系统

### 方式一：使用停止脚本（推荐）

**Windows系统：**
```powershell
# 双击运行 stop.bat
# 或在PowerShell中执行：
.\stop.bat
```

停止脚本会自动：
- ✅ 查找并停止后端服务（端口8000）
- ✅ 查找并停止前端服务（端口3000）

### 方式二：手动停止

**方法1：关闭服务窗口**
- 如果使用 `start.bat` 启动，直接关闭打开的两个服务窗口即可

**方法2：使用任务管理器**
1. 打开任务管理器（Ctrl + Shift + Esc）
2. 找到 `python.exe`（后端）和 `node.exe`（前端）进程
3. 右键选择"结束任务"

**方法3：使用命令行（PowerShell）**

```powershell
# 查找并停止后端服务（端口8000）
netstat -ano | findstr ":8000" | findstr "LISTENING"
# 记下PID，然后执行：
taskkill /F /PID <PID号>

# 查找并停止前端服务（端口3000）
netstat -ano | findstr ":3000" | findstr "LISTENING"
# 记下PID，然后执行：
taskkill /F /PID <PID号>
```

**方法4：一键停止所有相关进程**

```powershell
# 停止所有Python进程（后端）
taskkill /F /IM python.exe

# 停止所有Node进程（前端）
taskkill /F /IM node.exe
```

⚠️ **注意**：方法4会停止所有Python和Node进程，如果系统中有其他Python或Node程序在运行，请使用其他方法。

## 📍 访问地址

启动成功后：
- **前端界面**：http://localhost:3000
- **后端API**：http://localhost:8000

## ⚠️ 常见问题

### 端口被占用

如果启动时提示端口被占用：

**Windows：**
```powershell
# 查看端口占用情况
netstat -ano | findstr ":8000"
netstat -ano | findstr ":3000"

# 停止占用端口的进程
taskkill /F /PID <PID号>
```

**Linux/Mac：**
```bash
# 查看端口占用情况
lsof -i :8000
lsof -i :3000

# 停止占用端口的进程
kill -9 <PID号>
```

### 依赖未安装

首次运行需要安装依赖：

```powershell
# 安装前端依赖
npm install

# 安装后端依赖
cd backend
pip install -r requirements.txt
cd ..
```

## 📝 快速参考

| 操作 | Windows命令 | Linux/Mac命令 |
|------|------------|--------------|
| 启动系统 | `.\start.bat` | `./start.sh` |
| 停止系统 | `.\stop.bat` | `Ctrl+C` 或 `kill` |
| 检查端口 | `netstat -ano \| findstr ":8000"` | `lsof -i :8000` |
| 停止进程 | `taskkill /F /PID <PID>` | `kill -9 <PID>` |




